# Signet Configuration
# Copy to .env and update values

# =============================================================================
# Required
# =============================================================================

DATABASE_URL=postgresql://signet:signet_password@localhost:5432/signet

# Generate with: cargo run --example generate_keys
JWT_PRIVATE_KEY=

# =============================================================================
# Server
# =============================================================================

ENVIRONMENT=development
HOST=0.0.0.0
PORT=8080
REQUEST_TIMEOUT_SECS=30
MAX_BODY_SIZE=1048576

# gRPC server
GRPC_ENABLED=true
GRPC_PORT=50051
# GRPC_TLS_CERT_PATH=/path/to/cert.pem
# GRPC_TLS_KEY_PATH=/path/to/key.pem

# =============================================================================
# Database
# =============================================================================

DATABASE_MAX_CONNECTIONS=10
DATABASE_MIN_CONNECTIONS=2
DATABASE_CONNECTION_TIMEOUT_SECS=30
DATABASE_IDLE_TIMEOUT_SECS=600

# =============================================================================
# Redis (optional)
# =============================================================================

# REDIS_URL=redis://localhost:6379
# REDIS_POOL_SIZE=10
# REDIS_CONNECTION_TIMEOUT_SECS=5

# =============================================================================
# JWT
# =============================================================================

JWT_ACCESS_TOKEN_EXPIRY_SECS=3600
JWT_REFRESH_TOKEN_EXPIRY_SECS=604800
# JWT_ISSUER=signet
# JWT_AUDIENCE=signet-api

# =============================================================================
# Security
# =============================================================================

RATE_LIMITING_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
MAX_FAILED_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINS=15
MIN_PASSWORD_LENGTH=8
# REQUIRE_PASSWORD_COMPLEXITY=true
PASSWORD_HASH_COST=12
ROTATE_REFRESH_TOKENS=true

# =============================================================================
# CORS
# =============================================================================

CORS_ALLOWED_ORIGINS=*
# CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
# CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Request-ID
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE_SECS=3600

# =============================================================================
# Logging
# =============================================================================

LOG_LEVEL=debug
LOG_FORMAT=pretty

# =============================================================================
# Observability
# =============================================================================

# OpenTelemetry (optional)
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=signet
METRICS_ENABLED=true
